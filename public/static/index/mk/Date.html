<!DOCTYPE html><html><head><title>Date日期操作</title><meta charset='utf-8'><link href='css/mk.css' rel='stylesheet'><style>
.note-content  {font-family: "Helvetica Neue", Arial, "Hiragino Sans GB", STHeiti, "Microsoft YaHei", "WenQuanYi Micro Hei", SimSun, Song, sans-serif;}

</style></head><body><div id='preview-contents' class='note-content'>
                        
                    



<h3 id="date日期操作">Date日期操作</h3>

<blockquote>
  <p>Date是日期类，通过它可以对时间进行处理</p>
</blockquote>



<pre class="prettyprint hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-keyword">var</span> time = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();  <span class="hljs-comment">//-&gt;获取客户端本地时间（当前获取的时间不能作为重要的参照依据）</span>
</div><div class="hljs-line"><span class="hljs-comment">//获取的结果是一个日期格式的对象</span>
</div><div class="hljs-line"><span class="hljs-keyword">typeof</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()   <span class="hljs-comment">//-&gt;'object'</span>
</div><div class="hljs-line">time.getFullYear()  <span class="hljs-comment">//-&gt;获取四位整数年</span>
</div><div class="hljs-line">time.getMonth()     <span class="hljs-comment">//-&gt;获取月（值为0-11，代表1-12月）</span>
</div><div class="hljs-line">time.getDate()      <span class="hljs-comment">//-&gt;获取日</span>
</div><div class="hljs-line">time.getDay()       <span class="hljs-comment">//-&gt;获取星期（0-6代表周日到周六）</span>
</div><div class="hljs-line">time.getHours()     <span class="hljs-comment">//-&gt;获取小时</span>
</div><div class="hljs-line">time.getMinutes()   <span class="hljs-comment">//-&gt;获取分钟</span>
</div><div class="hljs-line">time.getSeconds()   <span class="hljs-comment">//-&gt;获取秒</span>
</div><div class="hljs-line">time.getMilliseconds()<span class="hljs-comment">//-&gt;获取毫秒</span>
</div><div class="hljs-line">time.getTime()      <span class="hljs-comment">//-&gt;获取当前日期距离'1970-01-01 00:00:00'毫秒差</span>
</div></code></pre>

<hr>



<pre class="prettyprint hljs-dark"><code class="language-javascript hljs"><div class="hljs-line"><span class="hljs-keyword">var</span> time = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'2018-01-01'</span>);<span class="hljs-comment">//当new Date中传递一个时间格式的字符串，相当于把这个字符串转换为标准时间格式（转换后，就可以调用上面的方法）</span>
</div><div class="hljs-line"><wbr>
</div><div class="hljs-line"><span class="hljs-comment">//-&gt;时间格式的字符串</span>
</div><div class="hljs-line"><span class="hljs-string">'2018-01-01'</span>(IE不兼容)
</div><div class="hljs-line"><span class="hljs-string">'2018/01/01'</span>
</div><div class="hljs-line"><span class="hljs-string">'2018/01/01 08:00:00'</span>
</div><div class="hljs-line"><span class="hljs-number">1535724839721</span>       <span class="hljs-comment">//距离1970年的毫秒差，不能带''</span>
</div></code></pre>

<p>小案例：倒计时抢购</p>



<pre class="prettyprint hljs-dark"><code class="language-htmlbars hljs"><div class="hljs-line"><span class="xml"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span>
</div><div class="hljs-line"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span></span>
</div><div class="hljs-line"><span class="xml">        *{<span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;}</span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-selector-class">.box</span>{</span>
</div><div class="hljs-line"><span class="xml">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> auto;</span>
</div><div class="hljs-line"><span class="xml">            <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;</span>
</div><div class="hljs-line"><span class="xml">            <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;</span>
</div><div class="hljs-line"><span class="xml">            <span class="hljs-attribute">line-height</span>: <span class="hljs-number">50px</span>;</span>
</div><div class="hljs-line"><span class="xml">            <span class="hljs-attribute">text-align</span>: center;</span>
</div><div class="hljs-line"><span class="xml">            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid green;</span>
</div><div class="hljs-line"><span class="xml">        }</span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-selector-class">.box</span> <span class="hljs-selector-tag">span</span>{</span>
</div><div class="hljs-line"><span class="xml">            <span class="hljs-attribute">font-size</span>: bold;</span>
</div><div class="hljs-line"><span class="xml">        }</span>
</div><div class="hljs-line"><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span>倒计时：<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"timeBox"</span>&gt;</span>00:00:00<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span></span>
</div><div class="hljs-line"><span class="xml">    <span class="hljs-keyword">var</span> timeBox = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'timeBox'</span>),</span>
</div><div class="hljs-line"><span class="xml">        timer = <span class="hljs-built_in">window</span>.setInterval(countDown,<span class="hljs-number">1000</span>);</span>
</div><div class="hljs-line"><span class="xml">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">countDown</span>(<span class="hljs-params"></span>) </span>{</span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-keyword">var</span> nowTime = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(),</span>
</div><div class="hljs-line"><span class="xml">            targetTime = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'2018/01/01 08:00:00'</span>);</span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-keyword">var</span> spanTime = targetTime - nowTime;    <span class="hljs-comment">//获取当前与目标时间的毫秒差</span></span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-comment">//到达目标时间</span></span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-keyword">if</span> (spanTime &lt;= <span class="hljs-number">0</span>) {</span>
</div><div class="hljs-line"><span class="xml">            <span class="hljs-built_in">window</span>.clearInterval(timer);        <span class="hljs-comment">//清除定时器</span></span>
</div><div class="hljs-line"><span class="xml">            timeBox.innerHTML = <span class="hljs-string">'开始抢购'</span>;</span>
</div><div class="hljs-line"><span class="xml">            <span class="hljs-keyword">return</span>;</span>
</div><div class="hljs-line"><span class="xml">        }</span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-comment">//未到达时间,将毫秒转换为 时：分：秒</span></span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-keyword">var</span> hour = <span class="hljs-built_in">Math</span>.floor(spanTime / (<span class="hljs-number">1000</span>*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>));</span>
</div><div class="hljs-line"><span class="xml">        spanTime-=hour*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>*<span class="hljs-number">1000</span>;      <span class="hljs-comment">//去掉整时的毫秒，剩下分钟和秒     </span></span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-keyword">var</span> minute = <span class="hljs-built_in">Math</span>.floor(spanTime / (<span class="hljs-number">1000</span>*<span class="hljs-number">60</span>));</span>
</div><div class="hljs-line"><span class="xml">        spanTime-=minute*<span class="hljs-number">60</span>*<span class="hljs-number">1000</span>;      </span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-keyword">var</span> second = <span class="hljs-built_in">Math</span>.floor(spanTime / <span class="hljs-number">1000</span>);       </span>
</div><div class="hljs-line"><span class="xml">        <span class="hljs-comment">//不足十位补零</span></span>
</div><div class="hljs-line"><span class="xml">        hour&lt;<span class="hljs-number">10</span> ? hour = <span class="hljs-string">'0'</span>+hour : <span class="hljs-literal">null</span>;</span>
</div><div class="hljs-line"><span class="xml">        minute&lt;<span class="hljs-number">10</span> ? minute = <span class="hljs-string">'0'</span>+minute : <span class="hljs-literal">null</span>;</span>
</div><div class="hljs-line"><span class="xml">        second&lt;<span class="hljs-number">10</span> ? second = <span class="hljs-string">'0'</span>+second : <span class="hljs-literal">null</span>;</span>
</div><div class="hljs-line"><span class="xml">        timeBox.innerHTML = hour + <span class="hljs-string">':'</span> + minute + <span class="hljs-string">':'</span> + second;</span>
</div><div class="hljs-line"><span class="xml">    }</span>
</div><div class="hljs-line"><span class="xml"></span>
</div><div class="hljs-line"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span>
</div><div class="hljs-line"><span class="xml"></span>
</div></code></pre></div></body></html>